<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Word Counter</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>

<body>
  <div ng-app="myApp" ng-controller="myCtrl" class="container">
    <h3 style="text-align:center; font-weight: bold;">Word Counter</h3>
    <h6 style="text-align:justify">Hello and welcome to the Word Counter. You have three ways to count word in the text.
      First one is by inputting the text manually, second is by selecting the file
      from you local machine, and the third way is by using the reading instances already added to the database.
    </h6>
    <h6>1. Add the text manually:</h6>
    <textarea ng-model="text" [(ngModel)]="area" (keydown)="wordCounter()" #text id="wmd-input" name="post-text"
      class="wmd-input s-input bar0 js-post-body-field processed" data-post-type-id="2" cols="92" rows="10"
      tabindex="101" data-min-length="" oncopy="return false;" onpaste="return false;" oncut="return false;"
      placeholder="Enter your text here..."></textarea>
    <div>
      <h6>2. Select text from a file:</h6>
      <input type="file" (change)="onFileSelected($event)"><br>
    </div>
    <br>
    <div>
      <h6>3. Read the text from a database table:</h6>
      <table class="table table-striped" style="border: 1px solid black; border-collapse:collapse;">
        <thead>
          <th>Id</th>
          <th>Instance Text</th>
          <th>Load From Text</th>
        </thead>
        <tbody>
          <tr *ngFor="let item of instancesList$|async">
            <td>{{item.instanceId}}</td>
            <td>{{item.instanceText}}</td>
            <td><button (click)="loadFromDatabase(item.instanceText)">Load</button></td>
          </tr>
        </tbody>
      </table>
    </div>
    <br>
    <div>
      <h5>Press the button below to count the words in the text:</h5>
      <div class="center">
        <button (click)="countWords()" type="button" class="btn btn-secondary btn-lg">Count words</button>
      </div>
    </div>
    <br>
    <!-- <div class="output row">
      <div>Words Frontend:
        <span id="wordCount">{{ words }}</span>
      </div>
    </div> -->
    <div class="output row">
      <div>Words:
        <span id="wordCount">{{backendWords}}</span>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="app.component.js"></script>
</body>

</html>